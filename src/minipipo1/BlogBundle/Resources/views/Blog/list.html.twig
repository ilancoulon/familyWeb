{% extends "minipipo1BlogBundle::layout.html.twig" %}

{% block title %}
	Rédaction - {{ parent() }}
{% endblock %}
        
{% block stylesheets %}
        {{ parent() }}
        
        <style>
                .listArticles {
                        width: 100%;
                }
                .listArticles th {
                        border-style: solid;
                        border-width: 1px;
                        margin-top: 200px;
                        text-align: center;
                        width: 200px;
                }
                .listArticles td {
                        line-height: 150%;
                        text-align: center;
                }
        </style>
{% endblock %}

{% block minipipoblog_body %}
        <h2><a href="{{ path('minipipoblog_new') }}">Rédiger un nouvel article</a></h2>
        <div class="pagination">
                {{ pagination.render()|raw }}
        </div>
        {% if pagination|length > 0 %}
                <table class="listArticles">
                        <tr>
                                <th>Actions</th>
                                <th>Titre</th>
                                <th>Date</th>
                                <th>Auteur</th>
                        </tr>
                        {% for article in pagination %}
                        <tr>
                                <td>
                                        <a href="{{ path('minipipoblog_new', {'id': article.id}) }}"><img title="Modifier" alt="crayon" src="{{ asset('bundles/minipipo1blog/images/modif.png') }}" /></a>
                                        <a href="{{ path('minipipoblog_del', {'id': article.id}) }}"><img title="Supprimer" alt="croix" src="{{ asset('bundles/minipipo1blog/images/suppr.gif') }}" /></a>
                                </td>
                                <td><a href="{{ path('minipipoblog_show', {'id': article.id}) }}">{{ article.titre }}</a></td>
                                <td>{{ article.date|date('d/m/Y H:i') }}</td>
                                <td>{{ article.auteur.name }}</td>
                        </tr>
                        {% endfor %}
                </table>
        {% else %}
                <p>Pas encore d'articles !</p>
        {% endif %}
{% endblock %}
                
{% block javascripts %}
        {{ parent() }}
        
        <script type="text/javascript">
                $(document).ready(function() {
                        console.log("READY");
                        $(".display_pages").click(function () {
                                console.log("EVENT");
                                if ($(".short_pagination").css("display") == "none") {
                                        console.log("MOINS");
                                        $(".complete_pagination").css("display", "none");
                                        $(".short_pagination").css("display", "inline");
                                }
                                else {
                                        console.log("PLUS");
                                        $(".short_pagination").css("display", "none");
                                        $(".complete_pagination").css("display", "inline");
                                }
                        });
                });
        </script>
{% endblock %}
        